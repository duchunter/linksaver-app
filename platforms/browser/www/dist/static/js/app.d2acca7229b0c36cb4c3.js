webpackJsonp([1],{"0XAi":function(t,a){},"4ecZ":function(t,a){},"77eN":function(t,a){t.exports={CLIENT_ID:"7V1pVHASnLjlxJY8F7UBCBDoqsZ35aU0",CLIENT_DOMAIN:"gangplank.auth0.com",AUDIENCE:"https://log.com",REDIRECT:"com.gp.botmanager://gangplank.auth0.com/cordova/com.gp.botmanager/callback",BOT_URL:"https://gp-messbot.herokuapp.com"}},KH8m:function(t,a){},NHnr:function(t,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=n("7+uW"),i=(n("ytdl"),n("2fyi")),s=n.n(i),o=n("77eN"),r=n.n(o);const l=r.a.CLIENT_ID,c=r.a.CLIENT_DOMAIN,d=r.a.AUDIENCE,u=r.a.REDIRECT,p="access_token";var v=new s.a.WebAuth({clientID:l,domain:c});function m(){return window.localStorage.getItem(p)}var f={name:"app-nav",mounted:function(){$(".navbar-collapse a:not(.dropdown-toggle)").click(function(){$(this).parents(".navbar-collapse").collapse("hide")})},methods:{login:function(){v.authorize({responseType:"token id_token",redirectUri:u,audience:d})},hideNav:function(){$("#navbar").collapse("hide")},addLink:function(){this.hideNav(),this.$parent.infoMode="add"}}},g={render:function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("nav",{staticClass:"navbar navbar-inverse navbar-fixed-top"},[n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"navbar-header"},[n("a",{staticClass:"navbar-brand"},[t._v("Link saver")]),t._v(" "),n("button",{staticClass:"btn btn-danger",attrs:{id:"add-link","data-toggle":"modal","data-target":"#link-info-modal"},on:{click:t.addLink}},[t._v("\n          Add new link\n        ")]),t._v(" "),t._m(0)]),t._v(" "),n("div",{staticClass:"navbar-collapse collapse",attrs:{id:"navbar"}},[n("ul",{staticClass:"nav navbar-nav navbar-right"},[n("li",[n("a",{on:{click:function(t){}}},[t._v("Check token")])]),t._v(" "),n("li",[n("a",{on:{click:t.login}},[t._v("Login")])]),t._v(" "),n("li",[n("a",{on:{click:function(t){}}},[t._v("Update")])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"navbar-toggle collapsed",attrs:{"data-toggle":"collapse","data-target":"#navbar","aria-expanded":"false","aria-controls":"navbar"}},[a("span",{staticClass:"sr-only"},[this._v("Toggle navigation")]),this._v(" "),a("span",{staticClass:"icon-bar"}),this._v(" "),a("span",{staticClass:"icon-bar"}),this._v(" "),a("span",{staticClass:"icon-bar"})])}]};var h=n("VU/8")(f,g,!1,function(t){n("aczf")},"data-v-59adfef3",null).exports,b=n("fZjL"),_=n.n(b),k={name:"TableRows",props:["links","displayOption"],methods:{displayInfo:function(t){this.$parent.displayInfo(t)},parseDate:function(t){return t?new Date(parseInt(t)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"none"}}},C={render:function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("tbody",t._l(t.links,function(a){return n("tr",{attrs:{"data-toggle":"modal","data-target":"#link-info-modal"},nativeOn:{click:function(n){t.displayInfo(a)}}},t._l(Object.keys(t.displayOption),function(e){return t.displayOption[e]?n("td",[t._v("\n      "+t._s(["added","lastedit"].includes(e)?t.parseDate(a[e]):a[e])+"\n    ")]):t._e()}))}))},staticRenderFns:[]};var y=n("VU/8")(k,C,!1,function(t){n("0XAi")},"data-v-80dcf854",null).exports,w={name:"DateModal",props:["title"],data:function(){return{target:"Added"==this.title?"added":"lastedit",picker:{added:{mode:"",exact:"",from:"",to:""},lastedit:{mode:"",exact:"",from:"",to:""}}}},watch:{title:function(t,a){this.target="Added"==t?"added":"lastedit"}},mounted:function(){var t=this;$("#date-picker-modal").on("hidden.bs.modal",function(){t.submit()})},methods:{reset:function(){var t=this;_()(this.picker[this.target]).forEach(function(a){t.picker[t.target][a]=""})},submit:function(){var t=this.picker[this.target],a=t.mode,n=t.exact,e=t.from,i=t.to,s=!1;a?("exact"!=a||n||(s=!0,this.$parent.triggerAlert(400,"Date picker - no input data")),"range"!=a||e||i||(s=!0,this.$parent.triggerAlert(400,"Date picker - no input data"))):s=!0;this.$parent.picker[this.target]=s?{}:{logic:"&&",value:"exact"==a?[{logic:">=",value:new Date(n).getTime()-252e5},{logic:"<=",value:new Date(n).getTime()+864e5-252e5}]:[{logic:">=",value:e?new Date(e).getTime()-252e5:0},{logic:"<=",value:i?new Date(i).getTime()-252e5:(new Date).getTime()}]}}}},L={render:function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"modal fade",attrs:{role:"dialog",id:"date-picker-modal"}},[n("div",{staticClass:"modal-dialog"},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n          ×\n        ")]),t._v(" "),n("h4",{staticClass:"modal-title"},[t._v(t._s(t.title))])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("div",{staticClass:"form-horizontal"},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"control-label col-sm-3"},[t._v("I want:")]),t._v(" "),n("div",{staticClass:"col-sm-5"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.picker[t.target].mode,expression:"picker[target].mode"}],staticClass:"form-control",on:{change:function(a){var n=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.picker[t.target],"mode",a.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"exact"}},[t._v("Exact date")]),t._v(" "),n("option",{attrs:{value:"range"}},[t._v("Range")])])])])]),t._v(" "),"exact"==t.picker[t.target].mode?n("div",{staticClass:"form-horizontal"},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"control-label col-sm-3"},[t._v("Date:")]),t._v(" "),n("div",{staticClass:"col-sm-7"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.picker[t.target].exact,expression:"picker[target].exact"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.picker[t.target].exact},on:{input:function(a){a.target.composing||t.$set(t.picker[t.target],"exact",a.target.value)}}})])])]):t._e(),t._v(" "),"range"==t.picker[t.target].mode?n("div",{staticClass:"form-horizontal"},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"control-label col-sm-3"},[t._v("From:")]),t._v(" "),n("div",{staticClass:"col-sm-7"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.picker[t.target].from,expression:"picker[target].from"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.picker[t.target].from},on:{input:function(a){a.target.composing||t.$set(t.picker[t.target],"from",a.target.value)}}})])])]):t._e(),t._v(" "),"range"==t.picker[t.target].mode?n("div",{staticClass:"form-horizontal"},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"control-label col-sm-3"},[t._v("To:")]),t._v(" "),n("div",{staticClass:"col-sm-7"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.picker[t.target].to,expression:"picker[target].to"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.picker[t.target].to},on:{input:function(a){a.target.composing||t.$set(t.picker[t.target],"to",a.target.value)}}})])])]):t._e()]),t._v(" "),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{"data-dismiss":"modal"}},[t._v("Done")]),t._v(" "),n("button",{staticClass:"btn btn-danger",on:{click:t.reset}},[t._v("Reset")])])])])])},staticRenderFns:[]};var D={name:"RatingModal",props:[],data:function(){return{from:"",to:""}},mounted:function(){var t=this;$("#rating-modal").on("hidden.bs.modal",function(){t.submit()})},methods:{reset:function(){this.from="",this.to=""},submit:function(){this.$parent.picker.rating={logic:"&&",value:[{logic:">=",value:this.from?this.from:0},{logic:"<=",value:this.to?this.to:5}]}}}},x={render:function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"modal fade",attrs:{role:"dialog",id:"rating-modal"}},[n("div",{staticClass:"modal-dialog"},[n("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),n("div",{staticClass:"modal-body"},[n("div",{staticClass:"form-horizontal"},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"control-label col-sm-3"},[t._v("From:")]),t._v(" "),n("div",{staticClass:"col-sm-7"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.from,expression:"from"}],staticClass:"form-control",attrs:{type:"input"},domProps:{value:t.from},on:{input:function(a){a.target.composing||(t.from=a.target.value)}}})])])]),t._v(" "),n("div",{staticClass:"form-horizontal"},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"control-label col-sm-3"},[t._v("To:")]),t._v(" "),n("div",{staticClass:"col-sm-7"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.to,expression:"to"}],staticClass:"form-control",attrs:{type:"input"},domProps:{value:t.to},on:{input:function(a){a.target.composing||(t.to=a.target.value)}}})])])])]),t._v(" "),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{"data-dismiss":"modal"}},[t._v("Done")]),t._v(" "),n("button",{staticClass:"btn btn-danger",on:{click:t.reset}},[t._v("Reset")])])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[this._v("\n          ×\n        ")]),this._v(" "),a("h4",{staticClass:"modal-title"},[this._v("Rating")])])}]};var T={name:"FilterBar",components:{DateModal:n("VU/8")(w,L,!1,function(t){n("X/IN")},"data-v-01a40bdc",null).exports,RatingModal:n("VU/8")(D,x,!1,function(t){n("oYWW")},"data-v-1bdb70f1",null).exports},data:function(){return{condition:this.$parent.$parent.condition,pickerTitle:"Added"}},methods:{clearFilter:function(){var t=this;_()(this.condition).forEach(function(a){t.condition[a]=""})},changeModalTitle:function(t){this.pickerTitle=t}}},E={render:function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"collapse panel panel-default",attrs:{id:"filter-collapse"}},[n("div",{staticClass:"panel-heading"},[Object.values(t.condition).filter(function(t){return t}).length?n("button",{staticClass:"btn btn-danger",on:{click:t.clearFilter}},[t._v("\n      Clear filter\n    ")]):t._e()]),t._v(" "),n("div",{staticClass:"panel-body container-fluid"},[t._l(Object.keys(t.condition),function(a){return n("div",{staticClass:"col-sm-4"},[n("div",{staticClass:"form-horizontal"},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"control-label col-sm-3"},[t._v("\n            "+t._s(a[0].toUpperCase()+a.slice(1))+"\n          ")]),t._v(" "),n("div",{staticClass:"col-sm-9"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.condition[a],expression:"condition[key]"}],staticClass:"form-control",attrs:{type:"text",placeholder:"any"},domProps:{value:t.condition[a]},on:{input:function(n){n.target.composing||t.$set(t.condition,a,n.target.value)}}})])])])])}),t._v(" "),n("div",{staticClass:"col-sm-2"},[n("div",{staticClass:"form-horizontal"},[n("div",{staticClass:"form-group"},[n("div",{staticClass:"col-sm-10"},[n("button",{staticClass:"btn btn-primary form-control",attrs:{"data-toggle":"modal","data-target":"#date-picker-modal"},on:{click:function(a){t.changeModalTitle("Added")}}},[t._v("\n              Added\n            ")])])])])]),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"col-sm-4"},[n("div",{staticClass:"form-horizontal"},[n("div",{staticClass:"form-group"},[n("div",{staticClass:"col-sm-10"},[n("button",{staticClass:"btn btn-primary form-control",attrs:{"data-toggle":"modal","data-target":"#date-picker-modal"},on:{click:function(a){t.changeModalTitle("Last edit")}}},[t._v("\n              Last edit\n            ")])])])])])],2),t._v(" "),n("date-modal",{attrs:{title:t.pickerTitle}}),t._v(" "),n("rating-modal")],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-sm-2"},[a("div",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-10"},[a("button",{staticClass:"btn btn-primary form-control",attrs:{"data-toggle":"modal","data-target":"#rating-modal"}},[this._v("\n              Rating\n            ")])])])])])}]};var I={render:function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"button-group collapse",attrs:{id:"sort-collapse"}},[n("button",{staticClass:"btn btn-danger",on:{click:t.sortTitle}},[t._v("\n    Sort by title\n  ")]),t._v(" "),n("button",{staticClass:"btn btn-warning",on:{click:function(a){t.sortDate("added")}}},[t._v("\n    Sort by added\n  ")]),t._v(" "),n("button",{staticClass:"btn btn-success",on:{click:function(a){t.sortDate("lastedit")}}},[t._v("\n    Sort by last edit\n  ")]),t._v(" "),n("button",{staticClass:"btn btn-primary",on:{click:function(a){t.sortDate("rating")}}},[t._v("\n    Sort by rating\n  ")]),t._v(" "),n("button",{staticClass:"btn btn-info",on:{click:t.reverseTable}},[t._v("\n    Reverse\n  ")])])},staticRenderFns:[]};var M={name:"HeaderButton",props:["mode","main","temp","mainLinks","tempLinks","displayOption"],components:{FilterBar:n("VU/8")(T,E,!1,function(t){n("jfoe")},"data-v-7a086d29",null).exports,SortOptions:n("VU/8")({name:"SortOptions",props:["table"],mounted:function(){this.sortDate("added")},methods:{sortTitle:function(){this.table.sort(function(t,a){return t.title==a.title?0:t.title>a.title?1:-1})},sortDate:function(t){this.table.sort(function(a,n){return n[t]-a[t]})},reverseTable:function(){this.table.reverse()}}},I,!1,function(t){n("KH8m")},"data-v-10a99eb8",null).exports},methods:{clearFilter:function(){var t=this;_()(this.$parent.condition).forEach(function(a){t.$parent.condition[a]=""})}}},A={render:function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"button-group"},[t._m(0),t._v(" "),n("ul",{staticClass:"dropdown-menu"},t._l(Object.keys(t.displayOption),function(a){return n("li",[n("a",{attrs:{value:a}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.displayOption[a],expression:"displayOption[item]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.displayOption[a])?t._i(t.displayOption[a],null)>-1:t.displayOption[a]},on:{change:function(n){var e=t.displayOption[a],i=n.target,s=!!i.checked;if(Array.isArray(e)){var o=t._i(e,null);i.checked?o<0&&t.$set(t.displayOption,a,e.concat([null])):o>-1&&t.$set(t.displayOption,a,e.slice(0,o).concat(e.slice(o+1)))}else t.$set(t.displayOption,a,s)}}}),t._v("\n         "+t._s(a[0].toUpperCase()+a.slice(1))+"\n      ")])])})),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),n("div",{staticClass:"btn btn-default",on:{click:t.clearFilter}},[n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar progress-bar-danger",attrs:{id:"displaying-link","data-toggle":"tooltip","data-placement":"top",title:"Click to clear all filter",role:"progressbar"}},[t._v("\n        "+t._s("main"==t.mode?t.main.length+"/"+t.mainLinks.length:t.temp.length+"/"+t.tempLinks.length)+"\n      ")])])]),t._v(" "),n("sort-options",{attrs:{table:t.mainLinks}}),t._v(" "),n("filter-bar")],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"btn btn-primary dropdown-toggle",attrs:{"data-toggle":"dropdown"}},[this._v("\n    Display "),a("span",{staticClass:"caret"})])},function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"btn btn-warning dropdown-toggle",attrs:{"data-toggle":"collapse","data-target":"#sort-collapse"}},[this._v("\n     Sort\n    "),a("span",{staticClass:"caret"})])},function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"btn btn-success dropdown-toggle",attrs:{"data-toggle":"collapse","data-target":"#filter-collapse"}},[this._v("\n     Filter\n    "),a("span",{staticClass:"caret"})])}]};var O={name:"LinksTable",props:["mode","tempLinks","mainLinks","deleteId","changeId"],components:{TableRows:y,HeaderButtons:n("VU/8")(M,A,!1,function(t){n("4ecZ")},"data-v-63408a5f",null).exports},data:function(){return{displayOption:{title:!0,tags:!1,added:!0,doc:!1,rating:!1,read:!1,edit:!1,lastedit:!1,report:!1,relation:!1,lib:!1,origin:!1},condition:{link:"",title:"",tags:"",doc:"",read:"",edit:"",report:"",relation:"",lib:"",origin:""},splitData:["tags","report","relation","lib"],pickerTitle:"Added",picker:{}}},mounted:function(){var t=this;$(".dropdown-menu a").on("click",function(a){var n=$(a.target).attr("value");return t.displayOption[n]=!t.displayOption[n],!1}),$("#"+("main"==this.mode?"temp":"main")).fadeOut(0)},watch:{mode:function(t,a){$("#"+a).fadeOut(300,function(){$("#"+t).fadeIn(300)})},deleteId:function(t,a){var n=this;0!=t&&("main"==this.mode?this.mainLinks.forEach(function(a,e){a.id==t&&n.mainLinks.splice(e,1)}):this.tempLinks.forEach(function(a,e){a.id==t&&n.tempLinks.splice(e,1)}))},changeId:function(t,a){var n=this,e="main"==this.mode?this.mainLinks.find(function(a){return a.id==t}):this.tempLinks.find(function(a){return a.id==t});_()(this.$parent.linkChanges).forEach(function(t){e[t]=n.$parent.linkChanges[t]})}},computed:{main:function(){var t=this.mainLinks.filter(this.filterList);if("main"==this.mode){var a=t.length/this.mainLinks.length*100;$("#displaying-link").css("width",a+"%")}return t},temp:function(){var t=this.tempLinks.filter(this.filterList);if("temp"==this.mode){var a=t.length/this.tempLinks.length*100;$("#displaying-link").css("width",a+"%")}return t}},methods:{displayInfo:function(t){var a=this;this.$parent.infoMode="info",_()(t).forEach(function(n){a.$parent.linkData[n]=t[n]})},filterList:function(t){var a=this,n=!0;return _()(this.condition).forEach(function(e){a.condition[e]&&(t[e]?a.splitData.includes(e)?a.condition[e].split(", ").forEach(function(a){n&=t[e].toLowerCase().includes(a.toLowerCase())}):n&=t[e].toLowerCase().includes(a.condition[e].toLowerCase()):n=!1)}),n}}},N={render:function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"panel panel-default"},[n("div",{staticClass:"panel-heading"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-lg-12"},[n("header-buttons",{attrs:{mode:t.mode,main:t.main,temp:t.temp,mainLinks:t.mainLinks,tempLinks:t.tempLinks,displayOption:t.displayOption}})],1)])]),t._v(" "),n("div",{staticClass:"panel-body"},[n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table table-hover"},[n("thead",[n("tr",t._l(Object.keys(t.displayOption),function(a){return t.displayOption[a]?n("th",[t._v("\n              "+t._s(a[0].toUpperCase()+a.slice(1))+"\n            ")]):t._e()}))]),t._v(" "),n("table-rows",{attrs:{id:"main",links:t.main,displayOption:t.displayOption}}),t._v(" "),n("table-rows",{attrs:{id:"temp",links:t.temp,displayOption:t.displayOption}})],1)])])])},staticRenderFns:[]};var U=n("VU/8")(O,N,!1,function(t){n("ujmr")},"data-v-ada0dd7a",null).exports,R=n("mtWM"),F=n.n(R);const B="https://gp-linksaver.herokuapp.com";async function z(t){const a=`${B}/api/info`,n={headers:{Authorization:`Bearer ${m()}`}};return(await F.a.post(a,t,n)).data}var S={name:"InfoPage",props:["actionLogs"],data:function(){return{basicInfo:{Temp:0,Main:0,Logs:0}}},mounted:function(){},methods:{triggerAlert:function(t,a){this.$parent.showStatus(t,a)},getBasicInfo:function(){var t=this,a=["Main","Temp"];a.forEach(function(n){z({table:n}).then(function(e){t.basicInfo[n]=parseInt(e);var i=a.reduce(function(a,n){return a+t.basicInfo[n]},0);a.forEach(function(a){var n=100*t.basicInfo[a]/i;$("#"+a.toLowerCase()+"Count").css("width",n+"%")})}).catch(function(a){t.triggerAlert(a.response.status,a.response.data)})}),z({table:"Logs"}).then(function(a){t.basicInfo.Logs=parseInt(a),$("#logsCount").css("width",(a>100?"100":a)+"%")})},reload:function(){var t=this;_()(this.basicInfo).forEach(function(a){t.basicInfo[a]=0,$("#"+a.toLowerCase()+"Count").css("width","0%")}),setTimeout(this.getBasicInfo,500)},clearLog:function(){var t=this;(async function(){const t=`${B}/api/log`,a={headers:{Authorization:`Bearer ${m()}`}};return await F.a.post(t,{},a)})().then(function(a){t.triggerAlert(a.status,a.data)}).catch(function(a){t.triggerAlert(a.response.status,a.response.data)})}}},j={render:function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"button-group"},[n("button",{staticClass:"btn btn-danger",on:{click:t.reload}},[t._v("\n      Get server info\n    ")]),t._v(" "),n("button",{staticClass:"btn btn-primary",on:{click:t.clearLog}},[t._v("\n      Clear log\n    ")])]),t._v(" "),n("h4",[t._v("Database")]),t._v(" "),n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar progress-bar-success",attrs:{id:"mainCount","data-toggle":"tooltip","data-placement":"top",title:"Main",role:"progressbar"}},[t._v("\n      "+t._s(t.basicInfo.Main)+"\n    ")]),t._v(" "),n("div",{staticClass:"progress-bar progress-bar-warning",attrs:{id:"tempCount","data-toggle":"tooltip","data-placement":"top",title:"Temp",role:"progressbar"}},[t._v("\n      "+t._s(t.basicInfo.Temp)+"\n    ")])]),t._v(" "),n("h4",[t._v("Logs")]),t._v(" "),n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar progress-bar-danger",attrs:{id:"logsCount","data-toggle":"tooltip","data-placement":"top",title:"Logs",role:"progressbar"}},[t._v("\n      "+t._s(t.basicInfo.Logs)+"\n    ")])]),t._v(" "),n("br"),t._v(" "),n("div",{staticClass:"panel panel-default"},[t._m(0),t._v(" "),n("div",{staticClass:"panel-body terminal-body"},[t._l(t.actionLogs,function(a){return n("p",{style:{color:a.code>=400?"red":"green"}},[t._v("\n        "+t._s(a.content)+"\n      ")])}),t._v(" "),0==t.actionLogs.length?n("p",{staticStyle:{color:"white","text-align":"center"}},[t._v("\n        (Nothing to show, start by searching something)\n      ")]):t._e()],2)])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[this._v("Action log")])])}]};var P=n("VU/8")(S,j,!1,function(t){n("Zjnx")},"data-v-34aec886",null).exports,V={name:"StatusBar",props:["status"],data:function(){return{}},computed:{displayMsg:function(){var t=this.status.code;return t>=400?$("#status-content").css("color","red"):$("#status-content").css("color","lightgreen"),401==t?"401: Unauthorized":403==t?"403: Forbidden":t+": "+this.status.msg}},methods:{hideStatus:function(){this.$emit("hide-status")}}},H={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"container-fluid"},[a("ul",{staticClass:"nav navbar-nav"},[a("li",[a("a",{attrs:{id:"status-content",href:"https://en.wikipedia.org/wiki/List_of_HTTP_status_codes",target:"_blank"}},[this._v("\n        "+this._s(this.displayMsg)+"\n      ")])]),this._v(" "),a("li",{staticClass:"pull-right"},[a("a",{attrs:{id:"close"}},[a("button",{staticClass:"close",on:{click:this.hideStatus}},[this._v("\n          ×\n        ")])])])])])},staticRenderFns:[]};var W=n("VU/8")(V,H,!1,function(t){n("goTq")},"data-v-499ec834",null).exports,Y={name:"LinkInfo",props:["infoMode","linkData"],data:function(){return{editable:["link","title","tags","doc","rating","read","edit","report","relation","lib"],fixed:["added","lastedit","origin"],editCheckbox:{link:!1,title:!1,tags:!1,doc:!1,rating:!1,read:!1,edit:!1,report:!1,relation:!1,lib:!1},newLink:{link:"",title:"",tags:"",doc:"",rating:"",read:"",edit:"",report:"",relation:"",lib:""},linkChanges:{},deleteMode:""}},mounted:function(){var t=this;$("#link-info-modal").on("hidden.bs.modal",function(){t.discardChanges(),$("#are-you-sure").collapse("hide"),$("textarea").css("height","15vh")}),$("#link-info-modal").on("scroll",function(){$("#link-info-modal").scrollTop()>20?$("#back-to-top-modal").css("visibility","visible"):$("#back-to-top-modal").css("visibility","hidden");var t=$("#link-info-modal").prop("scrollHeight"),a=$(window).height();$("#link-info-modal").scrollTop()<t-a?$("#go-to-bot-modal").css("visibility","visible"):$("#go-to-bot-modal").css("visibility","hidden")}),$("#are-you-sure").on("show.bs.collapse",function(){$("#link-info-modal").animate({scrollTop:$("#link-info-modal").prop("scrollHeight")},400)})},methods:{backToTop:function(t){$("#link-info-modal").animate({scrollTop:0},200)},goToBot:function(t){$("#link-info-modal").animate({scrollTop:$("#link-info-modal").prop("scrollHeight")},300)},setEdit:function(t){this.editCheckbox[t]?delete this.linkChanges[t]:this.linkChanges[t]=this.linkData[t],this.editCheckbox[t]=!this.editCheckbox[t]},setDeleteMode:function(t){this.deleteMode=t},triggerAlert:function(t,a){this.$parent.showStatus(t,a)},copyToClipboard:function(){var t=$("<input>");$("body").append(t),t.val(this.linkData.link).select(),document.execCommand("copy"),t.remove()},parseDate:function(t){if(!t)return"none";var a=new Date(parseInt(t));return a.getDate()+"/"+(a.getMonth()+1)+"/"+a.getFullYear()},discardNewLink:function(){var t=this;_()(this.newLink).forEach(function(a){t.newLink[a]=""})},discardChanges:function(){var t=this,a=_()(this.linkChanges);0!=a.length&&a.forEach(function(a){delete t.linkChanges[a],t.editCheckbox[a]=!1})},addNewLink:function(){var t=this;(async function(t,a){const n=`${B}/api/add`,e={headers:{Authorization:`Bearer ${m()}`}};return await F.a.put(n,{direct:a,data:t},e)})(this.newLink,!1).then(function(a){t.triggerAlert(a.status,a.data)}).catch(function(a){t.triggerAlert(a.response.status,a.response.data)})},editlinkInfo:function(){var t=this,a=this.$parent.mode;(async function(t){const a=`${B}/api/edit`,n={headers:{Authorization:`Bearer ${m()}`}};return await F.a.post(a,t,n)})({id:this.linkData.id,table:a[0].toUpperCase()+a.slice(1),changes:this.linkChanges,link:this.linkData.link}).then(function(a){t.triggerAlert(a.status,a.data),_()(t.$parent.linkChanges).forEach(function(a){delete t.$parent.linkChanges[a]}),_()(t.linkChanges).forEach(function(a){t.linkData[a]=t.linkChanges[a],t.$parent.linkChanges[a]=t.linkChanges[a]}),t.$parent.linkChanges.id=t.linkData.id,t.discardChanges()}).catch(function(a){t.triggerAlert(a.response.status,a.response.data)})},adjustLink:function(){var t=this;(async function(t){const a=`${B}/api/adjust`,n={headers:{Authorization:`Bearer ${m()}`}};return await F.a.post(a,t,n)})({promote:"promote"==this.deleteMode,id:this.linkData.id}).then(function(a){t.triggerAlert(a.status,a.data),t.$parent.deleteId=0,t.$parent.deleteId=t.linkData.id,$("#link-info-modal").modal("hide")}).catch(function(a){t.triggerAlert(a.response.status,a.response.data)})},deleteLink:function(){var t=this,a=this.$parent.mode;(async function(t){const a=`${B}/api/delete`,n={headers:{Authorization:`Bearer ${m()}`}};return await F.a.post(a,t,n)})({table:a[0].toUpperCase()+a.slice(1),id:this.linkData.id,link:this.linkData.link}).then(function(a){t.triggerAlert(a.status,a.data),t.$parent.deleteId=0,t.$parent.deleteId=t.linkData.id,$("#link-info-modal").modal("hide")}).catch(function(a){t.triggerAlert(a.response.status,a.response.data)})}}},Z={render:function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"modal fade",attrs:{role:"dialog",id:"link-info-modal"}},[n("div",{staticClass:"button-group",attrs:{id:"scroll-group-modal"}},[n("button",{staticClass:"btn btn-danger",attrs:{id:"back-to-top-modal"},on:{click:t.backToTop}},[t._v("\n      ^\n    ")]),t._v(" "),n("br"),t._v(" "),n("button",{staticClass:"btn btn-info",attrs:{id:"go-to-bot-modal"},on:{click:t.goToBot}},[t._v("\n      v\n    ")])]),t._v(" "),n("div",{staticClass:"modal-dialog"},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n          ×\n        ")]),t._v(" "),"info"==t.infoMode?n("div",{staticClass:"button-group"},[n("button",{staticClass:"btn btn-danger",attrs:{"data-toggle":"tooltip",title:"Copy to clipboard"},on:{click:t.copyToClipboard}},[n("i",{staticClass:"fa fa-clipboard"})]),t._v(" "),n("a",{staticClass:"btn btn-primary",attrs:{href:t.linkData.link,target:"_blank","data-toggle":"tooltip",title:"Open in new tab"}},[n("i",{staticClass:"fa fa-arrow-circle-right"})])]):t._e()]),t._v(" "),n("div",{staticClass:"modal-body"},[n("h4",{staticClass:"modal-title"},[t._v("\n          "+t._s("add"==t.infoMode?"Add new link":t.linkData.title)+"\n        ")]),t._v(" "),n("br"),t._v(" "),t._l(t.editable,function(a){return n("div",{staticClass:"form-horizontal"},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"control-label col-sm-2"},[t._v("\n              "+t._s(a[0].toUpperCase()+a.slice(1))+":\n            ")]),t._v(" "),n("div",{staticClass:"col-sm-8"},["add"==t.infoMode?n("input",{directives:[{name:"model",rawName:"v-model",value:t.newLink[a],expression:"newLink[item]"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.newLink[a]},on:{input:function(n){n.target.composing||t.$set(t.newLink,a,n.target.value)}}}):t._e(),t._v(" "),"info"!=t.infoMode||t.editCheckbox[a]||"doc"==a?t._e():n("div",{staticClass:"form-control"},[t._v("\n                "+t._s(t.linkData[a])+"\n              ")]),t._v(" "),"info"!=t.infoMode||t.editCheckbox[a]||"doc"!=a?t._e():n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.linkData[a],expression:"linkData[item]"}],staticClass:"form-control",attrs:{rows:"5",readonly:""},domProps:{value:t.linkData[a]},on:{input:function(n){n.target.composing||t.$set(t.linkData,a,n.target.value)}}}),t._v(" "),"info"==t.infoMode&&t.editCheckbox[a]&&"doc"!=a?n("input",{directives:[{name:"model",rawName:"v-model",value:t.linkChanges[a],expression:"linkChanges[item]"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.linkChanges[a]},on:{input:function(n){n.target.composing||t.$set(t.linkChanges,a,n.target.value)}}}):t._e(),t._v(" "),"info"==t.infoMode&&t.editCheckbox[a]&&"doc"==a?n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.linkChanges[a],expression:"linkChanges[item]"}],staticClass:"form-control",attrs:{rows:"5"},domProps:{value:t.linkChanges[a]},on:{input:function(n){n.target.composing||t.$set(t.linkChanges,a,n.target.value)}}}):t._e()]),t._v(" "),"info"==t.infoMode?n("div",{staticClass:"col-sm-1"},[t.editCheckbox[a]?t._e():n("button",{staticClass:"btn btn-primary",on:{click:function(n){t.setEdit(a)}}},[t._v("\n                Edit\n              ")]),t._v(" "),t.editCheckbox[a]?n("button",{staticClass:"btn btn-danger",on:{click:function(n){t.setEdit(a)}}},[t._v("\n                Reset\n              ")]):t._e()]):t._e()])])}),t._v(" "),t._l(t.fixed,function(a){return"info"==t.infoMode?n("div",{staticClass:"form-horizontal"},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"control-label col-sm-2"},[t._v("\n              "+t._s(a[0].toUpperCase()+a.slice(1))+":\n            ")]),t._v(" "),n("div",{staticClass:"col-sm-8"},[n("div",{staticClass:"form-control"},[t._v("\n                "+t._s("origin"==a?t.linkData[a]:t.parseDate(t.linkData[a]))+"\n              ")])])])]):t._e()})],2),t._v(" "),n("div",{staticClass:"modal-footer"},["add"==t.infoMode?n("button",{staticClass:"btn btn-primary",on:{click:t.addNewLink}},[t._v("\n          Add\n        ")]):t._e(),t._v(" "),"add"==t.infoMode?n("button",{staticClass:"btn btn-warning",on:{click:t.discardNewLink}},[t._v("\n          Discard\n        ")]):t._e(),t._v(" "),n("button",{staticClass:"btn btn-info",attrs:{"data-dismiss":"modal"}},[t._v("\n          Close\n        ")]),t._v(" "),0!=Object.keys(t.linkChanges)?n("button",{staticClass:"btn btn-primary",on:{click:t.editlinkInfo}},[t._v("\n          Submit changes\n        ")]):t._e(),t._v(" "),"info"==t.infoMode&&"none"==t.linkData.origin?n("button",{staticClass:"btn btn-warning",attrs:{"data-toggle":"collapse","data-target":"#are-you-sure"},on:{click:function(a){t.setDeleteMode("demote")}}},[t._v("\n          Demote\n        ")]):t._e(),t._v(" "),"info"==t.infoMode&&"none"!=t.linkData.origin?n("button",{staticClass:"btn btn-success",attrs:{"data-toggle":"collapse","data-target":"#are-you-sure"},on:{click:function(a){t.setDeleteMode("promote")}}},[t._v("\n          Promote\n        ")]):t._e(),t._v(" "),"info"==t.infoMode?n("button",{staticClass:"btn btn-danger",attrs:{"data-toggle":"collapse","data-target":"#are-you-sure"},on:{click:function(a){t.setDeleteMode("delete")}}},[t._v("\n          Delete\n        ")]):t._e(),t._v(" "),n("div",{staticClass:"collapse",attrs:{id:"are-you-sure"}},[n("p",[t._v("Are you sure ?")]),t._v(" "),"delete"==t.deleteMode?n("button",{staticClass:"btn btn-primary",on:{click:t.deleteLink}},[n("i",{staticClass:"fa fa-check"}),t._v(" Yes\n          ")]):t._e(),t._v(" "),"delete"!=t.deleteMode?n("button",{staticClass:"btn btn-primary",on:{click:t.adjustLink}},[n("i",{staticClass:"fa fa-check"}),t._v(" Yes\n          ")]):t._e(),t._v(" "),t._m(0)])])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"btn btn-danger",attrs:{"data-toggle":"collapse","data-target":"#are-you-sure"}},[a("i",{staticClass:"fa fa-times"}),this._v(" No\n          ")])}]};var X=n("VU/8")(Y,Z,!1,function(t){n("Q/8m")},"data-v-7bb32a54",null).exports,q={name:"BottomNav",methods:{setMode:function(t){this.$parent.mode=t,this.hideNav()},hideNav:function(){$("#navbar").collapse("hide")}}},G={render:function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("nav",{staticClass:"navbar navbar-fixed-bottom"},[n("div",{staticClass:"container-fluid"},[n("button",{on:{click:function(a){t.setMode("info")}}},[t._v("Info")]),t._v(" "),n("button",{on:{click:function(a){t.setMode("main")}}},[t._v("Main")]),t._v(" "),n("button",{on:{click:function(a){t.setMode("temp")}}},[t._v("Temp")])])])])},staticRenderFns:[]};var J={name:"Dashboard",components:{AppNav:h,BottomNav:n("VU/8")(q,G,!1,function(t){n("oErU")},"data-v-3f73cb2f",null).exports,LinksTable:U,InfoPage:P,StatusBar:W,LinkInfo:X},data:function(){return{mode:"info",actionLogs:[],status:{code:"",msg:""},infoMode:"",linkData:{link:"",title:"",tags:"",added:0,doc:"",rating:"",read:"",edit:"",lastedit:0,report:"",relation:"",lib:"",origin:""},tempLinks:[],mainLinks:[{link:"test",title:"test",tags:"test"},{link:"atest",title:"atest",tags:"atest"}],linkChanges:{id:0},deleteId:0}},mounted:function(){$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip()}),$(window).on("scroll",function(){$(document).scrollTop()>20?$("#back-to-top").css("visibility","visible"):$("#back-to-top").css("visibility","hidden");var t=$("html, body").prop("scrollHeight"),a=$(window).height();$(document).scrollTop()<t-a?$("#go-to-bot").css("visibility","visible"):$("#go-to-bot").css("visibility","hidden")})},methods:{hideStatus:function(){$("#status-bar").collapse("hide")},showStatus:function(t,a){this.status={code:t,msg:a},this.actionLogs.unshift({code:t,content:t+" : "+a}),$("#status-bar").collapse("show"),setTimeout(this.hideStatus,1500)},backToTop:function(t){$("html, body").animate({scrollTop:0},200)},goToBot:function(t){$("html, body").animate({scrollTop:$("html, body").prop("scrollHeight")},300)}}},K={render:function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"main-container"},[n("status-bar",{staticClass:"collapse",attrs:{status:t.status,id:"status-bar"},on:{"hide-status":t.hideStatus}}),t._v(" "),n("app-nav"),t._v(" "),n("transition",{attrs:{name:"mode",mode:"out-in"}},["info"==t.mode?n("info-page",{attrs:{actionLogs:t.actionLogs}}):t._e(),t._v(" "),"info"!=t.mode?n("links-table",{attrs:{mode:t.mode,tempLinks:t.tempLinks,mainLinks:t.mainLinks,deleteId:t.deleteId,changeId:t.linkChanges.id}}):t._e()],1),t._v(" "),n("link-info",{attrs:{infoMode:t.infoMode,linkData:t.linkData}}),t._v(" "),n("bottom-nav"),t._v(" "),n("div",{staticClass:"button-group",attrs:{id:"scroll-group"}},[n("button",{staticClass:"btn btn-danger",attrs:{id:"back-to-top"},on:{click:t.backToTop}},[t._v("\n      ^\n    ")]),t._v(" "),n("br"),t._v(" "),n("button",{staticClass:"btn btn-info",attrs:{id:"go-to-bot"},on:{click:t.goToBot}},[t._v("\n      v\n    ")])])],1)},staticRenderFns:[]};var Q={name:"App",components:{Dashboard:n("VU/8")(J,K,!1,function(t){n("tOye")},null,null).exports}},tt={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"app"}},[a("Dashboard")],1)},staticRenderFns:[]};var at=n("VU/8")(Q,tt,!1,function(t){n("aE1P")},null,null).exports;e.a.config.productionTip=!1,new e.a({el:"#app",components:{App:at},template:"<App/>"})},"Q/8m":function(t,a){},"X/IN":function(t,a){},Zjnx:function(t,a){},aE1P:function(t,a){},aczf:function(t,a){},goTq:function(t,a){},jfoe:function(t,a){},oErU:function(t,a){},oYWW:function(t,a){},tOye:function(t,a){},ujmr:function(t,a){}},["NHnr"]);
//# sourceMappingURL=app.d2acca7229b0c36cb4c3.js.map